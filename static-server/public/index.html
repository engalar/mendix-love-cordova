<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Security-Policy"
    content="default-src * 'unsafe-inline';child-src  http://127.0.0.1:5500;">

</head>

<body>
  <p>i am in mendix</p>
  <button onclick="scan()">scan bar code</button>
  <script>
    addEventListener('message', event => {
      if (event.data.format) {
        alert(" 扫码结果\n" + "Result: " + result.text + "\n" + "Format: " + result.format + "\n" + "Cancelled: " +
          result.cancelled);
      }
    });
    function scan() {
      // console.log('scan btn clicked');
      // console.log('scan btn clicked', window.parent);
      window.parent.postMessage('scan', '*');
    }
    window.onerror = function (msg, url, lineNo, columnNo, error) {
      console.log(msg);
      console.log(url);
      console.log(lineNo);
      console.log(columnNo);
      console.log(error);
      alert(msg)
      alert(url)
      alert(lineNo)
      alert(columnNo)
      alert(error)
    };
  </script>
  <!-- <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script> -->
  <script>
    // VConsole will be exported to `window.VConsole` by default.
    // var vConsole = new window.VConsole();
        // vConsole.setSwitchPosition(100, 100);
  </script>
</body>

</html>